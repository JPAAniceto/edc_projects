{% extends 'layouts/mainLayout.html' %}
{% load static %}


{% block title %}
    Add Company - Wiki Company
{% endblock %}

{% block navbar-admin-active %}
    active
{% endblock %}

{% block body %}
    <div class="container" style="margin-top: 50px">
        <div class="row">

            <h2 class="center" style="margin-bottom: 50px">Add Company</h2>
            <div class="row">
                <form method="GET">
                    <div class="input-field col s4">
                        <input id="searchQuery" type="text" class="validate" value="{{ defaultValues.symbol }}"
                               name="companySymbol">
                        <label for="searchQuery">Company symbol</label>
                    </div>
                    <div class="input-field col s4 center">
                        <button class="btn waves-effect waves-light" type="submit" name="action">Get Data
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </form>
                {% if defaultValues %}
                    <div class="col s4">
                        {% if defaultValues.name %}
                            <h4 style="color:green" class="left">{{ defaultValues.name }}</h4>
                        {% else %}
                            <h4 style="color:red" class="left">{{ companySearchMessage }}</h4>
                        {% endif %}
                    </div>
                {% endif %}
            </div>
        <div class="divider"></div>
        {% if showForm %}
            <form action="" method="post">
            {% csrf_token %}
                <div class="row section">
                    <div class="input-field col s2">
                        <input id="companySymbol" type="text" class="validate" value="{{ defaultValues.symbol|upper }}"
                               name="companySymbol" required>
                        <label for="companySymbol">Company symbol</label>
                    </div>
                    <div class="input-field col s2">
                        <input id="companyName" type="text" class="validate" value="{{ defaultValues.name }}"
                               name="companyName" required>
                        <label for="companyName">Company name</label>
                    </div>
                    <div class="input-field col s8">
                        <textarea id="companyDescription" class="materialize-textarea"
                                  name="companyDescription">{{ defaultValues.description }}</textarea>
                        <label for="companyDescription">Company description</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyWikidataRef" type="text" class="validate" value="{{ defaultValues.wikidataRef }}"
                               name="companyWikidataRef">
                        <label for="companyWikidataRef">Company Wikidata Reference</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyIndustry" type="text" class="validate" value="{{ defaultValues.industryLabel| title }}"
                               name="companyIndustry">
                        <label for="companyIndustry">Company Industry</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyWebsite" type="text" class="validate" value="{{ defaultValues.website }}"
                               name="companyWebsite">
                        <label for="companyWebsite">Company Website</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyCeo" type="text" class="validate" value="{{ defaultValues.ceoLabel }}"
                               name="companyCeo">
                        <label for="companyCeo">Company CEO</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyFounder" type="text" class="validate" value="{{ defaultValues.founderLabel }}"
                               name="companyFounder">
                        <label for="companyFounder">Company Founder</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyFoundingYear" type="number" min="0" class="validate" value="{{ defaultValues.foundingYear }}"
                               name="companyFoundingYear">
                        <label for="companyFoundingYear">Company Founding Year</label>
                    </div>
                    <div class="input-field col s4">
                        <input id="companyCountry" type="text" class="validate" value="{{ defaultValues.countryLabel }}"
                               name="companyCountry">
                        <label for="companyCountry">Company Country</label>
                    </div>
                    <div class="input-field col s8">
                        <input id="companyLogo" type="text" class="validate" value="{{ defaultValues.logo }}"
                               name="companyLogo">
                        <label for="companyLogo">Company Logo URL</label>
                    </div>
                    <div class="input-field col s12">
                        <textarea id="companyRevenues" class="materialize-textarea"
                                  name="companyRevenues">{% for item in defaultValues.revenue %}{{ item.revValue }},{{ item.revYear }};
{% endfor %}</textarea>
                        <label for="companyRevenues">Company Revenues ("value","year" separated by ; )</label>
                    </div>
                </div>
                <div class="row">
                    {% if message %}
                        <h4 style="color:red" class="center">{{ message }}</h4>
                    {% endif %}
                    {% if success %}
                        <h4 style="color:green" class="center">Company Added</h4>
                    {% endif %}
                    <div class="input-field col s12 center">
                        <button class="btn waves-effect waves-light" type="submit" name="action">Add Company
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>
            </form>
        {% endif %}

        </div>
    </div>
{% endblock %}